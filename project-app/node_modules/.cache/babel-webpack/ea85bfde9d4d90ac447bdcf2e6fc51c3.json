{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as actions from '../../store/users/users.actions';\nimport * as selectors from '../../store/users/users.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/flex-layout/flex\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/card\";\n\nfunction BusinessTableComponent_ul_14_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function BusinessTableComponent_ul_14_li_1_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const business_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.deleteBusiness(business_r2);\n    });\n    i0.ɵɵtext(3, \"X\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card\", 12);\n    i0.ɵɵelementStart(5, \"span\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 14);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const business_r2 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(business_r2.businessName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$ \", business_r2.income, \"\");\n  }\n}\n\nfunction BusinessTableComponent_ul_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 8);\n    i0.ɵɵtemplate(1, BusinessTableComponent_ul_14_li_1_Template, 9, 2, \"li\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.user.businesses);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport class BusinessTableComponent {\n  constructor(store) {\n    var _a;\n\n    this.store = store;\n    this.user = null; //ovo mi je u interesu da bude Observable<User>\n    // /* @Input() */ businesses: Observable<Business[]>=  this.store.select(selectors.selectAllUsers);\n\n    this.users = this.store.select(selectors.selectAllUsers);\n    this.businessName = '';\n    this.income = 0;\n    this.noviBiznis = {\n      businessName: this.businessName,\n      income: this.income\n    };\n    this.noviNizBiznisa = (_a = this.user) === null || _a === void 0 ? void 0 : _a.businesses;\n  }\n\n  ngOnInit() {\n    this.store.dispatch(actions.loadUsers());\n    this.users = this.store.select(selectors.selectAllUsers);\n    this.users.pipe(map(x => this.user = x[0])).subscribe(() => {// this.businesses = this.user?.businesses;\n    });\n  }\n\n  importBusiness() {\n    var _a;\n\n    if (this.user) {\n      this.store.dispatch(actions.addNewBusiness({\n        userId: (_a = this.user) === null || _a === void 0 ? void 0 : _a.id,\n        businessName: this.businessName,\n        income: this.income\n      }));\n    }\n  }\n\n  deleteBusiness(business) {\n    var _a;\n\n    if (this.user) {\n      this.store.dispatch(actions.deleteBusiness({\n        userId: (_a = this.user) === null || _a === void 0 ? void 0 : _a.id,\n        businessName: business.businessName\n      }));\n      this.ngOnInit();\n    }\n  }\n\n}\n\nBusinessTableComponent.ɵfac = function BusinessTableComponent_Factory(t) {\n  return new (t || BusinessTableComponent)(i0.ɵɵdirectiveInject(i1.Store));\n};\n\nBusinessTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BusinessTableComponent,\n  selectors: [[\"app-business-table\"]],\n  inputs: {\n    user: \"user\"\n  },\n  decls: 16,\n  vars: 9,\n  consts: [[\"mat-dialog-title\", \"\", 1, \"header\"], [\"fxLayoutAlign\", \"\", \"fxLayout\", \"row\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"appearance\", \"fill\", 1, \"incomeInput\"], [\"matInput\", \"\", \"type\", \"number\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 1, \"submitButton\", 3, \"click\"], [\"class\", \"no-bullets\", 4, \"ngIf\"], [1, \"no-bullets\"], [4, \"ngFor\", \"ngForOf\"], [1, \"deleteBtn\"], [1, \"deleteBtn\", 3, \"click\"], [1, \"row\"], [1, \"left\"], [1, \"right\"]],\n  template: function BusinessTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelementStart(1, \"h1\", 0);\n      i0.ɵɵtext(2, \"ADD BUSINESS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵelementStart(4, \"mat-form-field\", 2);\n      i0.ɵɵelementStart(5, \"mat-label\");\n      i0.ɵɵtext(6, \"BUSINESS NAME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function BusinessTableComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.businessName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"mat-form-field\", 4);\n      i0.ɵɵelementStart(9, \"mat-label\");\n      i0.ɵɵtext(10, \"INCOME\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function BusinessTableComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.income = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function BusinessTableComponent_Template_button_click_12_listener() {\n        return ctx.importBusiness();\n      });\n      i0.ɵɵtext(13, \" IMPORT \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(14, BusinessTableComponent_ul_14_Template, 2, 1, \"ul\", 7);\n      i0.ɵɵpipe(15, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.businessName)(\"ngModelOptions\", i0.ɵɵpureFunction0(7, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.income)(\"ngModelOptions\", i0.ɵɵpureFunction0(8, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(15, 5, ctx.users));\n    }\n  },\n  directives: [i2.MatDialogTitle, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.DefaultLayoutAlignDirective, i4.DefaultLayoutDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.NumberValueAccessor, i7.MatButton, i8.NgIf, i8.NgForOf, i9.MatCard],\n  pipes: [i8.AsyncPipe],\n  styles: [\".left[_ngcontent-%COMP%] {\\n  font-weight: bolder;\\n}\\n\\n.right[_ngcontent-%COMP%] {\\n  float: right;\\n  color: #15da15;\\n  font-weight: 500;\\n}\\n\\nul.no-bullets[_ngcontent-%COMP%] {\\n  list-style-type: none;\\n  padding: 20px;\\n  \\n  margin: 0;\\n  \\n  border: 1px solid rgba(255, 255, 255, 0.521);\\n  border-radius: 5px;\\n}\\n\\nli[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n}\\n\\n.submitButton[_ngcontent-%COMP%] {\\n  margin-left: 43px;\\n  height: 51px;\\n}\\n\\n.incomeInput[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n}\\n\\n.row[_ngcontent-%COMP%] {\\n  transition-property: background-color;\\n}\\n\\n.row[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  transition-duration: 70ms;\\n  background-color: rgba(207, 228, 233, 0.836);\\n}\\n\\n.row[_ngcontent-%COMP%]:active {\\n  background-color: rgba(118, 135, 139, 0.836);\\n}\\n\\n.deleteBtn[_ngcontent-%COMP%] {\\n  border: 2px solid rgba(0, 0, 0, 0.185);\\n  border-radius: 10px;\\n  width: 30px;\\n  font-size: small;\\n  font-weight: 100;\\n  text-align: center;\\n  background-color: rgba(255, 60, 60, 0.534);\\n  color: white;\\n  transition-property: background-color;\\n}\\n\\n.deleteBtn[_ngcontent-%COMP%]:hover {\\n  background-color: red;\\n  transition-duration: 200ms;\\n}\\n\\n.cb[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2luZXNzLXRhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSjs7QUFDQTtFQUNJLFlBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUFFSjs7QUFDQTtFQUNJLHFCQUFBO0VBQ0EsYUFBQTtFQUFlLG1CQUFBO0VBQ2YsU0FBQTtFQUFXLG1CQUFBO0VBQ1gsNENBQUE7RUFDQSxrQkFBQTtBQUlKOztBQUZBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtBQUtKOztBQUhBO0VBQ0ksaUJBQUE7RUFDQSxZQUFBO0FBTUo7O0FBSkE7RUFDSSxpQkFBQTtBQU9KOztBQUxBO0VBQ0kscUNBQUE7QUFRSjs7QUFOQTtFQUNJLGVBQUE7RUFDQSx5QkFBQTtFQUNBLDRDQUFBO0FBU0o7O0FBUEE7RUFDSSw0Q0FBQTtBQVVKOztBQVJBO0VBQ0ksc0NBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQ0FBQTtFQUNBLFlBQUE7RUFDQSxxQ0FBQTtBQVdKOztBQVRBO0VBQ0kscUJBQUE7RUFDQSwwQkFBQTtBQVlKOztBQVZBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBYUoiLCJmaWxlIjoiYnVzaW5lc3MtdGFibGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGVmdHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbn1cclxuLnJpZ2h0e1xyXG4gICAgZmxvYXQ6cmlnaHQ7XHJcbiAgICBjb2xvcjpyZ2IoMjEsIDIxOCwgMjEpO1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxudWwubm8tYnVsbGV0cyB7XHJcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAyMHB4OyAvKiBSZW1vdmUgcGFkZGluZyAqL1xyXG4gICAgbWFyZ2luOiAwOyAvKiBSZW1vdmUgbWFyZ2lucyAqLyBcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41MjEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcbmxpe1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuLnN1Ym1pdEJ1dHRvbntcclxuICAgIG1hcmdpbi1sZWZ0OiA0M3B4O1xyXG4gICAgaGVpZ2h0OiA1MXB4O1xyXG59XHJcbi5pbmNvbWVJbnB1dHtcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG59XHJcbi5yb3d7XHJcbiAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiBiYWNrZ3JvdW5kLWNvbG9yO1xyXG59XHJcbi5yb3c6aG92ZXJ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiA3MG1zO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMDcsIDIyOCwgMjMzLCAwLjgzNik7XHJcbn0gXHJcbi5yb3c6YWN0aXZle1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTgsIDEzNSwgMTM5LCAwLjgzNik7XHJcbn1cclxuLmRlbGV0ZUJ0bntcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xODUpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgZm9udC1zaXplOiBzbWFsbDtcclxuICAgIGZvbnQtd2VpZ2h0OiAxMDA7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgNjAsIDYwLCAwLjUzNCk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0cmFuc2l0aW9uLXByb3BlcnR5OiBiYWNrZ3JvdW5kLWNvbG9yO1xyXG59XHJcbi5kZWxldGVCdG46aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbiAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAyMDBtcztcclxufVxyXG4uY2J7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxufSJdfQ== */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["D:\\Fakultet\\RWA PROJEKT, KOPIJA, na drugi nacin\\projekat1\\project-app\\src\\app\\components\\business-table\\business-table.component.ts","D:\\Fakultet\\RWA PROJEKT, KOPIJA, na drugi nacin\\projekat1\\project-app\\src\\app\\components\\business-table\\business-table.component.html"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { MatTable } from '@angular/material/table';\nimport { Store } from '@ngrx/store';\nimport { Observable, of } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { AppState } from 'src/app/store/app-state';\nimport { Business } from 'src/models/business.model';\nimport { User } from 'src/models/user.model';\nimport * as actions from '../../store/users/users.actions';\nimport * as selectors from '../../store/users/users.selectors';\n\n@Component({\n  selector: 'app-business-table',\n  templateUrl: './business-table.component.html',\n  styleUrls: ['./business-table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BusinessTableComponent implements OnInit {\n  @Input() user: User | null = null; //ovo mi je u interesu da bude Observable<User>\n  // /* @Input() */ businesses: Observable<Business[]>=  this.store.select(selectors.selectAllUsers);\n  users: Observable<User[]> = this.store.select(selectors.selectAllUsers);\n\n  businessName: string = '';\n  income: number = 0;\n\n  noviBiznis: Business = {\n    businessName: this.businessName,\n    income: this.income,\n  };\n\n  noviNizBiznisa = this.user?.businesses;\n\n  constructor(private store: Store<AppState>) {}\n\n  ngOnInit(): void {\n    this.store.dispatch(actions.loadUsers());\n    this.users = this.store.select(selectors.selectAllUsers);\n\n    this.users.pipe(map((x) => (this.user = x[0]))).subscribe(() => {\n      // this.businesses = this.user?.businesses;\n    });\n  }\n\n  importBusiness() {\n    if (this.user) {\n      this.store.dispatch(\n        actions.addNewBusiness({\n          userId: this.user?.id,\n          businessName: this.businessName,\n          income: this.income,\n        })\n      );\n    }\n  }\n\n  deleteBusiness(business: Business) {\n    if (this.user) {\n      this.store.dispatch(\n        actions.deleteBusiness({\n          userId: this.user?.id,\n          businessName: business.businessName,\n        })\n      );\n      this.ngOnInit();\n    }\n  }\n}\n","<div>\n  <!--  -->\n\n  <h1 mat-dialog-title class=\"header\">ADD BUSINESS</h1>\n  <form fxLayoutAlign=\"\" fxLayout=\"row\">\n    <mat-form-field appearance=\"fill\">\n      <mat-label>BUSINESS NAME</mat-label>\n      <input\n        matInput\n        [(ngModel)]=\"businessName\"\n        [ngModelOptions]=\"{ standalone: true }\"\n      />\n    </mat-form-field>\n\n    <mat-form-field appearance=\"fill\" class=\"incomeInput\">\n      <mat-label>INCOME</mat-label>\n      <input\n        matInput\n        type=\"number\"\n        [(ngModel)]=\"income\"\n        [ngModelOptions]=\"{ standalone: true }\"\n      />\n    </mat-form-field>\n\n    <button\n      mat-raised-button\n      type=\"submit\"\n      class=\"submitButton\"\n      (click)=\"importBusiness()\"\n    >\n      IMPORT\n    </button>\n  </form>\n  <ul class=\"no-bullets\" *ngIf=\"users | async\">\n    <li *ngFor=\"let business of user.businesses\">\n      <div class=\"deleteBtn\">\n        <button class=\"deleteBtn\" (click)=\"deleteBusiness(business)\">X</button>\n      </div>\n      <mat-card class=\"row\">\n        <span class=\"left\">{{ business.businessName }}</span>\n        <span class=\"right\">$ {{ business.income }}</span>\n      </mat-card>\n    </li>\n  </ul>\n\n  <!--  -->\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}